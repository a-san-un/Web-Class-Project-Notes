
# 2025-11-27 JavaScript授業ノート

**日時:** 2025年11月27日  
**科目:** JavaScript  
**教科書:** 1冊ですべて身につくJavaScript入門講座  
**範囲:** Chapter 3 (P80〜) / Chapter 4 (P91〜)

---

## 学んだ内容

### 1. CSSプロパティのJavaScript表記（キャメルケース）
### 2. テンプレートリテラルと3種類の引用符
### 3. 条件分岐（if / else if / else）
### 4. ES6で追加された主な機能
### 5. CSS非表示プロパティの違い（display / visibility / opacity）
### 6. イベントの基礎とloadイベント
### 7. classListによるクラス操作

---

## 1. CSSプロパティのJavaScript表記

JavaScriptでCSSプロパティを操作する際、**ハイフンが使えない**ため、キャメルケースに変換する。

### 変換ルール


CSS（ケバブケース）    JavaScript（キャメルケース）
----------------------------------------------
background-color   →   backgroundColor
font-size          →   fontSize
border-radius      →   borderRadius
margin-top         →   marginTop
z-index            →   zIndex


### コード例

```javascript
// P要素のスタイルオブジェクトをコンソールに出力
// → CSSStyleDeclaration オブジェクトが表示される
// → ここで使えるプロパティ名（backgroundColor など）を確認できる
console.log(text.style);

// 背景色を黄色に変更
// CSS の background-color は JavaScript では backgroundColor になる
text.style.backgroundColor = 'yellow';
```

### 覚え方
1. ハイフンを削除
2. ハイフンの直後の文字を大文字にする

---

## 2. テンプレートリテラルと引用符

JavaScriptには3種類の引用符があり、それぞれ用途が異なる。

### 3種類の引用符

| 種類 | 記号 | 変数埋め込み | 改行 | 用途 |
|------|------|--------------|------|------|
| シングルクォート | `'` | ❌ | ❌ | 通常の文字列 |
| ダブルクォート | `"` | ❌ | ❌ | 通常の文字列 |
| バッククォート | `` ` `` | ✅ `${変数}` | ✅ | テンプレートリテラル |

### テンプレートリテラル（Template Literal）

**ES6（2015年）から追加された機能**

```javascript
// シングルクォート（連結が必要）
text.textContent = 'カラーコード: ' + color.value;

// バッククォート（埋め込みが簡単）
text.textContent = `カラーコード: ${color.value}`;
```

### `${}` の役割

- `$` → 変数を埋め込むことを宣言
- `{}` → 中に変数や式を書く

```javascript
const price = 1000;
const tax = 0.1;

// 計算式も埋め込める
console.log(`合計: ${price * (1 + tax)}円`);
// → 結果: "合計: 1100円"

// メソッドも呼び出せる
console.log(`大文字: ${'hello'.toUpperCase()}`);
// → 結果: "大文字: HELLO"
```

---

## 3. 条件分岐（if / else if / else）

### 基本構文

```javascript
if (条件1) {
// 条件1がtrueの時
} else if (条件2) {
// 条件1がfalseで、条件2がtrueの時
} else {
// すべての条件がfalseの時
}

```

### コード例

```javascript
// 関数を定義（カラーコードを表示する処理）
const colorBG = () => {
// body要素の背景色をカラーピッカーの値に変更
document.body.style.backgroundColor = color.value;

    // 条件分岐で表示内容を決定
    if (color.value === `#ffffff`) {
        // 白色の場合
        text.textContent = `カラーコード: ${color.value} (white)`;
    } else if (color.value === `#000000`) {
        // 黒色の場合
        text.textContent = `カラーコード: ${color.value} (black)`;
    } else {
        // その他の色の場合
        text.textContent = `カラーコード: ${color.value}`;
    }
    }

```

### 比較演算子 `===`

- `===` は「厳密等価演算子」
- 値と型の両方が一致するかチェック
- `==` よりも `===` の使用が推奨される

---

## 4. ES6で追加された主な機能

**ES6（ECMAScript 2015）** で追加された新機能

### 主な機能一覧

| 機能 | 記号/構文 | 説明 |
|------|-----------|------|
| テンプレートリテラル | `` ` `` と `${}` | 変数を文字列に埋め込む |
| アロー関数 | `() => {}` | 関数を短く書ける |
| const / let | `const`, `let` | 新しい変数宣言 |
| 分割代入 | `const {name} = obj` | オブジェクトから値を取り出す |
| クラス | `class MyClass {}` | オブジェクト指向プログラミング |

### const / let / var の違い

| 宣言方法 | 再代入 | 再宣言 | スコープ | 使い分け |
|---------|--------|--------|----------|----------|
| `var` | ✅ | ✅ | 関数スコープ | 使わない（非推奨） |
| `let` | ✅ | ❌ | ブロックスコープ | 値が変わる変数 |
| `const` | ❌ | ❌ | ブロックスコープ | 値が変わらない変数 |

### アロー関数

```javascript
// ES5以前
function add(a, b) {
return a + b;
}

// ES6以降（アロー関数）
const add = (a, b) => {
return a + b;
};

// さらに短く（returnを省略）
const add = (a, b) => a + b;
```

---

## 5. CSS非表示プロパティの違い

要素を非表示にする3つの方法の違い

### 比較表

| プロパティ | 表示 | 領域の確保 | クリック可能 | transition対応 | 使用場面 |
|-----------|------|-----------|-------------|----------------|----------|
| `display: none;` | ❌ | ❌ | ❌ | ❌ | 完全に削除したい時 |
| `visibility: hidden;` | ❌ | ✅ | ❌ | ✅ | レイアウトを保ちたい時 |
| `opacity: 0;` | ❌ | ✅ | ✅ | ✅ | フェード効果を使いたい時 |

### display: none;

```css
.menu {
display: none;  /* 完全に削除、領域も消える */
}
```

- ✅ 要素が完全に消える
- ✅ 領域も削除される（他の要素が詰まる）
- ❌ `transition` でアニメーションできない

### visibility: hidden;

```css
.tooltip {
visibility: hidden;  /* 非表示だが領域は残る */
}
```

- ✅ 要素が見えなくなる
- ✅ 領域は残る（他の要素は詰まらない）
- ✅ `transition` でアニメーションできる

### opacity: 0;

```css
.box {
opacity: 0;  /* 透明になる */
}
```

- ✅ 要素が透明になる
- ✅ 領域は残る
- ⚠️ **クリックできる**（注意！）
- ✅ `transition` でアニメーションできる

### ローディング画面での使い分け

```css
.loaded {
opacity: 0;           /* 透明にする（アニメーション可能） */
visibility: hidden;   /* クリック不可にする */
}
```

**両方使う理由：**
- `opacity: 0;` だけ → 透明だが**クリックできてしまう**
- `visibility: hidden;` だけ → アニメーション（transition）が効かない
- **両方使う** → ✅ アニメーション可能 + クリック不可

---

## 6. イベントの基礎

### イベントとは

ユーザーの操作やブラウザの状態変化に応じて発生する「出来事」

### よく使うイベントの種類

| イベント名 | 発生するタイミング |
|-----------|-------------------|
| `load` | ページ全体が読み込まれた時 |
| `click` | クリックされた時 |
| `input` | 入力された時 |
| `submit` | フォームが送信される時 |
| `mouseover` | マウスカーソルが乗った時 |
| `mouseout` | マウスカーソルが離れた時 |
| `keydown` | キーが押された時 |
| `scroll` | スクロールされた時 |
| `resize` | ウィンドウサイズが変わった時 |

### イベントの発生場所

| 発生場所 | 説明 | 例 |
|---------|------|-----|
| **Window** | ブラウザウィンドウ全体 | `resize`, `scroll`, `load` |
| **Document** | HTMLドキュメント全体 | `DOMContentLoaded` |
| **Element** | 個別のHTML要素 | `click`, `input`, `mouseover` |

### イベントの伝播

イベントは1つの要素だけでなく、DOMツリー全体を伝わっていく

```
キャプチャリングフェーズ（下向き）:
Window → Document → html → body → 要素

ターゲットフェーズ:
実際にイベントが発生した要素

バブリングフェーズ（上向き）:
要素 → body → html → Document → Window
```

---

## 7. ローディング画面の実装（Chapter 4）

### HTML構造

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>イベントで演出しよう！</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- ローディング画面 -->
    <div id="loading">
        <img src="images/loading.png" alt="Now Loading..." class="spinner">
    </div>

    <!-- ギャラリー -->
    <div class="gallery">
        <img src="images/img1.jpg" alt="">
        <img src="images/img2.jpg" alt="">
    </div>

    <script src="js/script.js"></script>
</body>
</html>
```

### CSS

```css
@charset "UTF-8";

/* ========================================
ローディング画面
======================================== */
\#loading {
/* グリッドレイアウトで中身を配置 */
display: grid;

    /* スピナーを縦横中央に配置 */
    place-items: center;
    
    /* 画面に固定表示（スクロールしても動かない） */
    position: fixed;
    
    /* 最前面に表示（他の要素より手前） */
    z-index: 9999;
    
    /* 画面全体に広げる（top: 0; right: 0; bottom: 0; left: 0; の省略形） */
    inset: 0;
    
    /* すべてのプロパティ変化を1秒かけてアニメーション */
    transition: all 1s;
    
    /* 背景色（薄いグレー） */
    background-color: #ddd;
    }

/* ローディングアイコン（スピナー） */
.spinner {
/* アイコンのサイズを指定 */
width: 200px;
height: 200px;
}

/* ========================================
ローディング完了後のスタイル
======================================== */
.loaded {
/* 透明にする（transitionでアニメーション） */
opacity: 0;

    /* 完全に非表示にする（クリック不可にする） */
    visibility: hidden;
    }

/* ========================================
ギャラリー（コンテンツ部分）
======================================== */
.gallery {
/* グリッドレイアウトで画像を配置 */
display: grid;

    /* 画像間の余白 */
    gap: 10px;
    
    /* レスポンシブ対応：画面幅に応じてカラム数を自動調整 */
    /* 最小幅300px、最大幅は余白を埋める */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }

/* 画像のスタイル */
img {
/* 親要素の幅いっぱいに広げる */
width: 100%;

    /* 高さを固定 */
    height: 300px;
    
    /* アスペクト比を保ったまま枠内に収める（はみ出た部分はカット） */
    object-fit: cover;
    }
```

### JavaScript

```javascript
// 1. ローディング要素を取得
const loading = document.querySelector('\#loading');

// 2. ページ全体の読み込み完了を待つ
window.addEventListener('load', () => {
// 3. デバッグメッセージ
console.log('ロードされました');

    // 4. classListは要素のclass属性を操作するためのプロパティ
    // add(追加), remove(削除), toggle(追加・削除), contains(クラス属性値の存在チェック)
    loading.classList.add('loaded');
    });

```

### 動作の流れ

```
1. ページ読み込み開始
↓
[ローディング画面表示]
\#loading { opacity: 1; visibility: visible; }
2. 画像・CSS・JSを読み込み中...
↓
[ローディング画面表示中]
3. すべての読み込み完了
↓
window.addEventListener('load') が発火
4. JavaScript実行
↓
loading.classList.add('loaded');
5. CSSアニメーション開始
↓
opacity: 1 → 0 (1秒かけて)
visibility: visible → hidden (1秒かけて)
6. アニメーション完了
↓
[ギャラリー表示]
```

### classList の主なメソッド

```javascript
const element = document.querySelector('.box');

// クラスを追加
element.classList.add('active');

// クラスを削除
element.classList.remove('active');

// クラスをトグル（追加・削除を切り替え）
element.classList.toggle('active');

// クラスが存在するかチェック
if (element.classList.contains('active')) {
console.log('activeクラスがあります');
}
```

### DOMContentLoaded vs load の違い

| イベント | タイミング | 用途 |
|---------|-----------|------|
| `DOMContentLoaded` | HTMLの解析完了時 | DOM操作を開始したい時 |
| `load` | すべてのリソース読み込み完了時 | 画像も含めて完全に読み込まれた時 |

```javascript
// DOM解析が完了したらすぐ実行
document.addEventListener('DOMContentLoaded', () => {
console.log('DOMが準備できた');
});

// すべての画像も読み込まれてから実行
window.addEventListener('load', () => {
console.log('すべて読み込まれた');
});
```

---

## 重要なポイント

### CSS省略形プロパティ

- `inset: 0;` = `top: 0; right: 0; bottom: 0; left: 0;`
- `place-items: center;` = `align-items: center; justify-items: center;`

### document.body とは

```javascript
// この2つは同じ意味
document.body.style.backgroundColor = color.value;
document.querySelector('body').style.backgroundColor = color.value;
```

`document.body` は HTML の `<body>` 要素を取得する専用のプロパティ

---

## 参考リンク

- [MDN - テンプレートリテラル](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Template_literals)
- [MDN - アロー関数](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
- [MDN - classList](https://developer.mozilla.org/ja/docs/Web/API/Element/classList)
- [MDN - load イベント](https://developer.mozilla.org/ja/docs/Web/API/Window/load_event)
- [MDN - opacity](https://developer.mozilla.org/ja/docs/Web/CSS/opacity)
- [MDN - visibility](https://developer.mozilla.org/ja/docs/Web/CSS/visibility)
- [MDN - display](https://developer.mozilla.org/ja/docs/Web/CSS/display)
- [MDN - CSSStyleDeclaration](https://developer.mozilla.org/ja/docs/Web/API/CSSStyleDeclaration)

---

## 疑問点・復習ポイント

- [ ] ES6の他の機能（スプレッド構文、デフォルト引数など）
- [ ] イベント伝播の詳細（キャプチャリング・バブリング）
- [ ] 他のイベントの種類と使い方
- [ ] classListの他のメソッド（replace、forEach）


